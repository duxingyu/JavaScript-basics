<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>qq列表</title>
	<link rel="stylesheet" type="text/css" href="reset.css">
	<style type="text/css">
		#list {margin: 20px auto;width: 150px;border: 1px solid #000;}
		.lis {width: 150px;}
		.lis h2 {font-size: 16px;height: 34px;line-height: 34px;text-indent: 20px;background: url(imgs/i3/ico1.gif) no-repeat 5px center #f60;color: #fff;border-bottom: 1px solid #000;}
		.lis ul {display: none;}
		.lis li {width: 150px;height: 24px;font-size: 12px;line-height: 24px;border-bottom: 1px solid #ccc;text-indent: 20px;}
		.lis .active {background: url(imgs/i3/ico2.gif) no-repeat 5px center #999;}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			var oList = document.getElementById('list');
			var aH2 = oList.getElementsByTagName('h2');
			var aUl = oList.getElementsByTagName('ul');
			var aLi = null;
			var arrLi = [];

			for (var i = 0; i < aH2.length; i++) {
				aH2[i].index = i;				
				aH2[i].onclick = function(){
					
					for (var i = 0; i < aH2.length; i++) {
						if (aH2[i]!=this) {
							aH2[i].className = '';
							aUl[i].style.display = 'none';
						}
						if (this.className == '') {
							aUl[this.index].style.display = 'block';
							this.className = 'active';
						}else{
							aUl[this.index].style.display = 'none';
							this.className = '';
						}
					}
				}
			}
			for (var i = 0; i < aUl.length; i++) {
				aLi = aUl[i].getElementsByTagName('li');
				for(var j=0;j<aLi.length;j++){
					arrLi.push(aLi[j]);
					// aLi[j].onclick = function(){
					// 	if (this.style.background == '') {
					// 		this.style.background = 'red';
					// 	}else{
					// 		this.style.background = '';
					// 	}
					}
				}
				for (var i = 0; i < arrLi.length; i++) {
				arrLi[i].onclick = function(){
					for (var i = 0; i < arrLi.length; i++) {
						if (arrLi[i]!=this) {
						arrLi[i].style.background = '';
					    }
					}
					if (this.style.background == '') {
						this.style.background = 'red';
					}else{
						this.style.background = '';
					}
				}
			}
	};
			
	</script>
</head>
<body>
	<ul id="list">
		<li class="lis">
			<h2>我的好友</h2>
			<ul>
				<li>第一</li>
				<li>第一</li>
				<li>第一</li>
			</ul>
		</li>
		<li class="lis">
			<h2>朋友</h2>
			<ul>
				<li>第二</li>
				<li>第二</li>
				<li>第二</li>
			</ul>
		</li>
		<li class="lis">
			<h2>黑名单</h2>
			<ul>
				<li>第三</li>
				<li>第三</li>
				<li>第三</li>	
			</ul>
		</li>
	</ul>
</body>
</html>