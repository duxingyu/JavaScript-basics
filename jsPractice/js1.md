# js1

标签（空格分隔）： js

---

1. 语句和表达式的区别在于，前者主要为了进行某种操作，一般情况下不需要返回值；后者则是为了得到返回值，一定会返回一个值。
2. 变量是对“值”的引用，使用变量等同于引用一个值。
3. typeof: boolean,number,string,function,object(null/array/{}),undefined
4. typeof可以用来检查一个没有声明的变量，而不报错。
5. 空数组（[]）和空对象（{}）对应的布尔值，都是true。
6. 由于浮点数不是精确的值，所以涉及小数的比较和运算要特别小心。
7. 有前导0的数值会被视为八进制，但是如果前导0后面有数字8和9，则该数值被视为十进制。
8. 判断NaN更可靠的方法是，利用NaN是JavaScript之中唯一不等于自身的值这个特点，进行判断。
9. 数值方法：`isNaN(x)`、`Finite(x)`、`parseInt(x,[y])`、`parseFloat(x)`。
```javascript
if (typeof v === "undefined"){}  // 4
function myIsNaN(value) {       // 8
  return value !== value;
}
```
1. 字符串可以被视为字符数组，因此可以使用数组的方括号运算符，用来返回某个位置的字符。`'hello'[0]='h'`
2. 字符串属性，方法：`s.length`、`btoa(string)`、`atob(Base64编码)`。
3. 所谓对象，就是一种无序的数据集合，由若干个“键值对”（key-value）构成。
4. 对象的生成方法，通常有三种方法。直接使用大括号生成（{}），还可以用new命令生成一个Object对象的实例，或者使用Object.create方法生成。
5. 对象的所有键名都是字符串，如果键名是数值，会被自动转为字符串。JavaScript的保留字可以不加引号当作键名。
6. 对象属性、方法：`obj.fun.name`、`Object.keys(obj)(查看obj的所有属性名)`、`delete obj.key`、`obj.hasOwnProperty(key)`。
7. JavaScript规定，如果行首是大括号，一律解释为语句（即代码块）。如果要解释为表达式（即对象），必须在大括号前加上圆括号。
8. 如果使用方括号运算符，键名必须放在引号里面，否则会被当作变量处理。
9. 检查一个全局变量是否声明：
10. 删除一个不存在的属性，delete不报错，而且返回true。因此，不能根据delete命令的结果，认定某个属性是存在的，只能保证读取这个属性肯定得到undefined。只有一种情况，delete命令会返回false，那就是该属性存在，且不得删除。delete命令只能删除对象本身的属性，无法删除继承的属性。delete命令不能删除var命令声明的变量，只能用来删除属性。
11. in运算符用于检查对象是否包含某个属性，检查键名，如果包含就返回true，否则返回false。in运算符的一个问题是，它不能识别对象继承的属性。返回true。属性要加引号。
12. for...in循环有两个使用注意点。
    1. 它遍历的是对象所有可遍历（enumerable）的属性，会跳过不可遍历的属性。
    2. 它不仅遍历对象自身的属性，还遍历继承的属性。
13. 如果只想遍历对象本身的属性，可以使用hasOwnProperty方法，在循环内部判断一下是不是自身的属性。
14. 一般情况下，都是只想遍历对象自身的属性，所以不推荐使用for...in循环。
```javascript
if ('a' in window) {        // 9
  // 变量 a 声明过
} else {
  // 变量 a 未声明
}
```
1. 本质上，数组属于一种特殊的对象。typeof运算符会返回数组的类型是object。
2. 只要有length属性，就可以认为这个对象类似于数组。但是，对象的length属性不是动态值，不会随着成员的变化而变化。
3. 典型的类似数组的对象是函数的arguments对象，以及大多数DOM元素集，还有字符串。
4. 数组的slice方法将类似数组的对象，变成真正的数组。
5. 遍历类似数组的对象，可以采用for循环，也可以采用数组的forEach方法。
6. 如果数组的某个位置是空位，in运算符返回false。
7. for...in不仅会遍历数组所有的数字键，还会遍历非数字键。所以，不推荐使用for...in遍历数组。
8. 数值属性、方法：`length`、`arr.forEach(function([key,value]{}))`
9. 如果最后一个元素后面有逗号，并不会产生空位。数组的空位是可以读取的，返回undefined。使用delete命令删除一个数组成员，会形成空位，并且不会影响length属性。
10. 数组的某个位置是空位，与某个位置是undefined，是不一样的。如果是空位，使用数组的forEach方法、for...in结构、以及Object.keys方法进行遍历，空位都会被跳过。这就是说，空位就是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。
```javascript
var arr = Array.prototype.slice.call(arrayLike);    // 4
function logArgs() {                                // 5
  Array.prototype.forEach.call(arguments, function (elem, i) {
    console.log(i+'. '+elem);
  });
}
```
1. 采用函数表达式声明函数时，function命令后面不带有函数名。如果加上函数名，该函数名只在函数体内部有效，在函数体外部无效。这种写法的用处有两个，一是可以在函数体内部调用自身，二是方便除错（除错工具显示函数调用栈时，将显示函数名，而不再显示这里是一个匿名函数）。
2. JavaScript语言将函数看作一种值，与其它值（数值、字符串、布尔值等等）地位相同。凡是可以使用值的地方，就能使用函数。
3. 如果同时采用function命令和赋值语句声明同一个函数，最后总是采用赋值语句的定义。
4. 根据ECMAScript的规范，不得在非函数的代码块中声明函数，最常见的情况就是if和try语句。（函数名提升）。要达到在条件语句中定义函数的目的，只有使用函数表达式。
5. 函数属性、方法：`f.name`、`f.length`、`f.toString()`。
6. length属性返回函数预期传入的参数个数，即函数定义之中的参数个数。
7. 函数本身也是一个值，也有自己的作用域。它的作用域与变量一样，就是其声明时所在的作用域，与其运行时所在的作用域无关。函数执行时所在的作用域，是定义时的作用域，而不是调用时所在的作用域。
8. 没有办法只省略靠前的参数，而保留靠后的参数。如果一定要省略靠前的参数，只有显式传入undefined。
9. 如果函数内部修改的，不是参数对象的某个属性，而是替换掉整个参数，这时不会影响到原始值。这是因为，形式参数（o）与实际参数obj存在一个赋值关系。
10. 某些情况下，如果需要对某个原始类型的变量，获取传址传递的效果，可以将它写成全局对象的属性。
11. 闭包的最大用处有两个，一个是可以读取函数内部的变量，另一个就是让这些变量始终保持在内存中，即闭包可以使得它诞生环境一直存在。闭包的另一个用处，是封装对象的私有属性和私有方法。
12. 通常情况下，只对匿名函数使用这种“立即执行的函数表达式”。它的目的有两个：一是不必为函数命名，避免了污染全局变量；二是IIFE内部形成了一个单独的作用域，可以封装一些外部无法读取的私有变量。
```javascript
var f = function f(){};         // 1
```
1. 余数运算符（%）运算结果的正负号由第一个运算子的正负号决定。为了得到正确的负数的余数值，需要先使用绝对值函数。
2. 对于复合类型的值，严格相等运算比较的是，它们是否引用同一个内存地址.
3. 如果对一个值连续做两次取反运算，等于将其转为对应的布尔值，与Boolean函数的作用相同。这是一种常用的类型转换的写法。
4. if...else是语句，没有返回值；三元条件表达式是表达式，具有返回值。所以，在需要返回值的场合，只能使用三元条件表达式，而不能使用if..else。
5. 对一个小数连续进行两次否运算，能达到取整效果。是所有取整方法中最快的一种。
6. 连续对两个数a和b进行三次异或运算，可以互换它们的值。这意味着，使用“异或运算”可以在不引入临时变量的前提下，互换两个变量的值。这是互换两个变量的值的最快方法。
7. 位运算符可以用作设置对象属性的开关。
8. void运算符的作用是执行一个表达式，然后不返回任何值，或者说返回undefined。这个运算符主要是用于书签工具（bookmarklet），以及用于在超级链接中插入代码，目的是返回undefined可以防止网页跳转。
9. 逗号运算符用于对两个表达式求值，并返回后一个表达式的值。
```javascript
~~2.6;        // (2)    5
a ^= b, b ^= a, a ^= b;     // 6
```
、